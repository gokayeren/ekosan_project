{% extends 'admin/model/edit.html' %}

{% block content_title %}{% endblock %}

{% block body %}
    
    {# Bildirimler #}
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="mb-6 space-y-2">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category if category != 'message' else 'info' }} shadow-sm">
                        <span>{{ message }}</span>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form action="" method="POST" enctype="multipart/form-data" class="w-full pb-20">
        
        {% if form.csrf_token %}
            {{ form.csrf_token }}
        {% endif %}
        {% for f in form if f.type == 'HiddenField' %}
            {{ f() }}
        {% endfor %}

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6">
            <div class="px-6 py-4 border-b border-gray-100 bg-blue-50/30 flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center">
                    <i class="fa fa-sliders-h"></i>
                </div>
                <div>
                    <h3 class="font-bold text-gray-800 text-sm">Sayfa Üstü ve Form Yapılandırması</h3>
                    <p class="text-xs text-gray-500">Sayfanın giriş slider'ı ve kullanılacak iletişim formu.</p>
                </div>
            </div>
            
            <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <label class="label pt-0 font-semibold text-gray-700">Hero Slider ID</label>
                    <span class="text-xs text-gray-400 block mb-1">Sayfanın en üstündeki görsel slider.</span>
                    {{ form.hero_slider(class="input input-bordered w-full", placeholder="contact_slider") }}
                </div>
                <div>
                    <label class="label pt-0 font-semibold text-gray-700">İletişim Formu Seçimi</label>
                    <span class="text-xs text-gray-400 block mb-1">Form oluşturucudan hazırladığınız form.</span>
                    <div class="select-wrapper w-full">
                        {{ form.contact_form(class="select select-bordered w-full") }}
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6">
            <div class="px-6 py-4 border-b border-gray-100 bg-purple-50/30 flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center">
                    <i class="fa fa-file-invoice"></i>
                </div>
                <div>
                    <h3 class="font-bold text-gray-800 text-sm">Firma Resmi Bilgileri</h3>
                    <p class="text-xs text-gray-500">Faturalandırma ve resmi yazışma bilgileri.</p>
                </div>
            </div>

            <div class="p-6 space-y-4">
                <div>
                    <label class="label pt-0 font-semibold text-gray-700">Firma Tam Ünvanı</label>
                    {{ form.contact_info_title(class="input input-bordered w-full") }}
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="label pt-0 font-semibold text-gray-700 text-xs">Sicil No</label>
                        {{ form.shop_id(class="input input-bordered w-full") }}
                    </div>
                    <div>
                        <label class="label pt-0 font-semibold text-gray-700 text-xs">Sicil Tarihi</label>
                        {{ form.shop_id_date(class="input input-bordered w-full") }}
                    </div>
                    <div>
                        <label class="label pt-0 font-semibold text-gray-700 text-xs">Vergi Dairesi / No</label>
                        {{ form.tax_id(class="input input-bordered w-full") }}
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6">
            <div class="px-6 py-4 border-b border-gray-100 bg-green-50/30 flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-green-100 text-green-600 flex items-center justify-center">
                    <i class="fa fa-phone-volume"></i>
                </div>
                <div>
                    <h3 class="font-bold text-gray-800 text-sm">İletişim Kanalları</h3>
                    <p class="text-xs text-gray-500">Müşterilerin size ulaşacağı kanallar.</p>
                </div>
            </div>
            
            <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="label pt-0 font-semibold text-gray-700"><i class="fa fa-phone mr-1 text-gray-400"></i> Telefon</label>
                    {{ form.phone(class="input input-bordered w-full") }}
                </div>
                <div>
                    <label class="label pt-0 font-semibold text-gray-700"><i class="fab fa-whatsapp mr-1 text-gray-400"></i> WhatsApp</label>
                    {{ form.wa(class="input input-bordered w-full") }}
                </div>
                <div>
                    <label class="label pt-0 font-semibold text-gray-700"><i class="fa fa-envelope mr-1 text-gray-400"></i> E-Posta</label>
                    {{ form.email(class="input input-bordered w-full") }}
                </div>
                <div>
                    <label class="label pt-0 font-semibold text-gray-700"><i class="fa fa-clock mr-1 text-gray-400"></i> Çalışma Saatleri</label>
                    {{ form.workhours(class="input input-bordered w-full") }}
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6">
            <div class="px-6 py-4 border-b border-gray-100 bg-red-50/30 flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-red-100 text-red-600 flex items-center justify-center">
                    <i class="fa fa-map-location-dot"></i>
                </div>
                <div>
                    <h3 class="font-bold text-gray-800 text-sm">Konum Bilgileri</h3>
                </div>
            </div>
            
            <div class="p-6 grid grid-cols-1 gap-4">
                <div>
                    <label class="label pt-0 font-semibold text-gray-700">Merkez / Mağaza Adresi</label>
                    {{ form.location_shop(class="textarea textarea-bordered w-full h-20") }}
                </div>
                <div>
                    <label class="label pt-0 font-semibold text-gray-700">Depo / Şube Adresi</label>
                    {{ form.location_storage(class="textarea textarea-bordered w-full h-20") }}
                </div>
            </div>
        </div>

        <div class="fixed bottom-6 right-6 z-50 md:static md:flex md:justify-end">
            <button type="submit" class="btn btn-primary px-8 shadow-lg shadow-blue-500/30">
                <i class="fa fa-save mr-2"></i> İletişim Ayarlarını Kaydet
            </button>
        </div>

    </form>
{% endblock %}